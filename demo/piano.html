


<script src="node_modules/webmidi/webmidi.min.js"></script>
<script src="node_modules/tone/build/Tone.min.js"></script>



<script>


    // https://github.com/Tonejs/Tone.js

    // Create a synth and connect it to the master output (your speakers)
    let synth = new Tone.Synth().toMaster();


    function playNote(name, octave) {
        let note = name + octave.toString();
        //console.log(note);

        // Play a note for the duration of an 8th note
        synth.triggerAttackRelease(note, '8n');
    }



    // https://github.com/cotejp/webmidi

    WebMidi.enable(function (error) {
        if (error) throw error;

        if (!WebMidi.inputs.length) {
            console.log('No MIDI inputs found');
            return false;
        }

        let inputNames = WebMidi.inputs.map(input => input.name);
        console.log('MIDI inputs found', inputNames);

        WebMidi.inputs.forEach(input => {
            input.addListener('noteon', 'all', function (e) {
                playNote(e.note.name, e.note.octave);
            });
        });


    });




</script>
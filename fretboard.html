<link rel="import" href="../@polymer/polymer/polymer-element.html">
<link rel="import" href="../@polymer/polymer/lib/elements/dom-repeat.html">


<link rel="import" href="fretboard-string.html">


<dom-module id="score-fretboard">

    <template>
        <style>
            :host {
                display: block;
            }
        </style>

        <fretboard-string index="0" thickness="1" tone="E"></fretboard-string>
        <fretboard-string index="1" thickness="2" tone="B"></fretboard-string>
        <fretboard-string index="2" thickness="3" tone="G"></fretboard-string>
        <fretboard-string index="3" thickness="4" tone="D"></fretboard-string>

    </template>


    <script>
        /**
         * `score-fretboard`
         *
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class Fretboard extends Polymer.Element {
            static get is() { return 'score-fretboard'; }
            static get properties() {
                return {
                    //
                }
            }
            constructor() {
                super();

                let chromaticScale = 'C C# D D# E F F# G G# A Bb B'.split(' ');


                let chromaticScaleMap = 'C C# D D# E F F# G G# A A# B'.split(' ')
                    .map( (key, i) => ({[key]: i}) )
                    .reduce( (acc, val) => Object.assign(acc, val), {} );

                // Add indices for flats too
                chromaticScaleMap = 'C Db D Eb E F Gb G Ab A Bb B'.split(' ')
                    .map( (key, i) => ({[key]: i}) )
                    .reduce( (acc, val) => Object.assign(acc, val), chromaticScaleMap );


                // Chromatic scale from the key of F:
                // let keyIndex = chromaticScaleMap['F'];
                // chromaticScale.slice( keyIndex ).concat( chromaticScale.slice(0, keyIndex) )


            }
        }
        window.customElements.define(Fretboard.is, Fretboard);
    </script>

</dom-module>